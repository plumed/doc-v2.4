<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>PLUMED: EDS</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table align="center" frame="void" width="98%" cellpadding="2%">
<tbody>
<tr style="height: 30px;">
<td valign="center"> &nbsp; <img src="pigeon.png" width="120"/></td>
<td style="padding-left: 0.2em;" width="74%"> <a href="http://www.plumed.org"> <img src="logo.png" width="400" /> </td>
<td style="padding-left: 0.2em;" align="right"> <a href="../../developer-doc/html/index.html"> <img src="user-logo.png" width="180" /> </a> </td>
</tr>
</tbody>
</table>
<!--
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PLUMED
   &#160;<span id="projectnumber">2.4.8</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
-->
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_e_d_s.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">EDS </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><table align="center" frame="void" width="95%%" celpadding="5%%">
<tr>
<td width="60%%"></td><td><b> This is part of the eds <a class="el" href="mymodules.html">module </a></b>   </td></tr>
<tr>
<td width="60%%"></td><td><b> It is only available if you configure PLUMED with ./configure &ndash;enable-modules=eds . Furthermore, this feature is still being developed so take care when using it and report any problems on the mailing list.</b>   </td></tr>
</table>
<p>Add a linear bias on a set of observables.</p>
<p>This force is the same as the linear part of the bias in <a class="el" href="_r_e_s_t_r_a_i_n_t.html">RESTRAINT</a>, but this bias has the ability to compute prefactors adaptively using the scheme of White and Voth <a class="el" href="citelist.html#CITEREF_white2014efficient">[95]</a> in order to match target observable values for a set of CVs. You can see a tutorial on EDS specifically for biasing coordination number at <a href="http://thewhitelab.org/Blog/tutorial/2017/05/10/lammps-coordination-number-tutorial/">Andrew White's webpage</a>.</p>
<p>The addition to the potential is of the form </p><p class="formulaDsp">
\[ \sum_i \frac{\alpha_i}{s_i} x_i \]
</p>
<p>where for CV \(x_i\), a coupling constant \({\alpha}_i\) is determined adaptively or set by the user to match a target value for \(x_i\). \(s_i\) is a scale parameter, which by default is set to the target value. It may also be set separately.</p>
<dl class="section warning"><dt>Warning</dt><dd>It is not possible to set the target value of the observable to zero with the default value of \(s_i\) as this will cause a divide-by-zero error. Instead, set \(s_i=1\) or modify the CV so the desired target value is no longer zero.</dd></dl>
<p>Notice that a similar method is available as <a class="el" href="_m_a_x_e_n_t.html">MAXENT</a>, although with different features and using a different optimization algorithm.</p>
<dl class="section user"><dt>Description of components</dt><dd></dd></dl>
<p>By default this Action calculates the following quantities. These quanties can be referenced elsewhere in the input by using this Action's label followed by a dot and the name of the quantity required from the list below.</p>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="5%"><b> Quantity </b>  </td><td><b> Description </b>   </td></tr>
<tr>
<td width="15%"><b> bias </b> </td><td>the instantaneous value of the bias potential   </td></tr>
<tr>
<td width="15%"><b> force2 </b> </td><td>squared value of force from the bias   </td></tr>
<tr>
<td width="15%"><b> _coupling </b> </td><td>For each named CV biased, there will be a corresponding output CV_coupling storing the current linear bias prefactor.   </td></tr>
</table>
<dl class="section user"><dt>Compulsory keywords</dt><dd></dd></dl>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="15%"><b> RANGE </b> </td><td>( default=3.0 ) The largest magnitude of the force constant which one expects (in kBT) for each CV based   </td></tr>
<tr>
<td width="15%"><b> SEED </b> </td><td>( default=0 ) Seed for random order of changing bias   </td></tr>
<tr>
<td width="15%"><b> INIT </b> </td><td>( default=0 ) Starting value for coupling constant   </td></tr>
<tr>
<td width="15%"><b> FIXED </b> </td><td>( default=0 ) Fixed target values for coupling constant. Non-adaptive.   </td></tr>
</table>
<dl class="section user"><dt>Options</dt><dd></dd></dl>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="15%"><b> NUMERICAL_DERIVATIVES </b> </td><td>( default=off ) calculate the derivatives for these quantities numerically   </td></tr>
<tr>
<td width="15%"><b> RAMP </b> </td><td>( default=off ) Slowly increase bias constant to a fixed value   </td></tr>
<tr>
<td width="15%"><b> COVAR </b> </td><td>( default=off ) Utilize the covariance matrix when updating the bias. Default Off, but may be enabled due to other options   </td></tr>
<tr>
<td width="15%"><b> FREEZE </b> </td><td>( default=off ) Fix bias at current level (only used for restarting).   </td></tr>
<tr>
<td width="15%"><b> MEAN </b> </td><td><p class="starttd">( default=off ) Instead of using final bias level from restart, use average. Can only be used in conjunction with FREEZE  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td width="15%"><b> ARG </b> </td><td>the input for this action is the scalar output from one or more other actions. The particular scalars that you will use are referenced using the label of the action. If the label appears on its own then it is assumed that the Action calculates a single scalar value. The value of this scalar is thus used as the input to this new action. If * or *.* appears the scalars calculated by all the proceding actions in the input file are taken. Some actions have multi-component outputs and each component of the output has a specific label. For example a <a class="el" href="_d_i_s_t_a_n_c_e.html">DISTANCE</a> action labelled dist may have three componets x, y and z. To take just the x component you should use dist.x, if you wish to take all three components then use dist.*.More information on the referencing of Actions can be found in the section of the manual on the PLUMED <a class="el" href="_syntax.html">Getting Started</a>. Scalar values can also be referenced using POSIX regular expressions as detailed in the section on <a class="el" href="_regex.html">Regular Expressions</a>. To use this feature you you must compile PLUMED with the appropriate flag. You can use multiple instances of this keyword i.e. ARG1, ARG2, ARG3...   </td></tr>
<tr>
<td width="15%"><b> CENTER </b> </td><td>The desired centers (equilibrium values) which will be sought during the adaptive linear biasing. This is for fixed values   </td></tr>
<tr>
<td width="15%"><b> CENTER_ARG </b> </td><td>The desired centers (equilibrium values) which will be sought during the adaptive linear biasing. CENTER_ARG is for calculated centers, e.g. from a CV or analysis.   </td></tr>
<tr>
<td width="15%"><b> PERIOD </b> </td><td>Steps over which to adjust bias for adaptive or ramping   </td></tr>
<tr>
<td width="15%"><b> BIAS_SCALE </b> </td><td>A divisor to set the units of the bias. If not set, this will be the experimental value by default (as is done in White and Voth 2014).   </td></tr>
<tr>
<td width="15%"><b> TEMP </b> </td><td>The system temperature. If not provided will be taken from MD code (if available)   </td></tr>
<tr>
<td width="15%"><b> MULTI_PROP </b> </td><td>What proportion of dimensions to update at each step. Must be in interval [1,0), where 1 indicates all and any other indicates a stochastic update. If not set, default is 1 / N, where N is the number of CVs.   </td></tr>
<tr>
<td width="15%"><b> RESTART_FMT </b> </td><td>the format that should be used to output real numbers in EDS restarts   </td></tr>
<tr>
<td width="15%"><b> OUT_RESTART </b> </td><td>Output file for all information needed to continue EDS simulation. If you have the RESTART directive set (global or for EDS), this file will be appended to. Note that the header will be printed again if appending.   </td></tr>
<tr>
<td width="15%"><b> IN_RESTART </b> </td><td>Read this file to continue an EDS simulation. If same as OUT_RESTART and you have not set the RESTART directive, the file will be backed-up and overwritten with new output. If you do have the RESTART flag set and it is the same name as OUT_RESTART, this file will be appended.   </td></tr>
<tr>
<td width="15%"><b> RESTART </b> </td><td><p class="starttd">allows per-action setting of restart (YES/NO/AUTO)  </p>
<p class="endtd"></p>
</td></tr>
</table>
<dl class="section user"><dt>Examples</dt><dd></dd></dl>
<p>The following input for a harmonic oscillator of two beads will adaptively find a linear bias to change the mean and variance to the target values. The PRINT line shows how to access the value of the coupling constants.</p>
<pre class="fragment">
dist: <a href="./_d_i_s_t_a_n_c_e.html" style="color:green">DISTANCE</a> ATOMS=1,2
<span style="color:blue"># this is the squared of the distance</span>
dist2: <a href="./_c_o_m_b_i_n_e.html" style="color:green">COMBINE</a> ARG=dist POWERS=2 PERIODIC=NO

<span style="color:blue">#bias mean and variance</span>
eds: <a href="./_e_d_s.html" style="color:green">EDS</a> ARG=dist,dist2 CENTER=2.0,1.0 PERIOD=50000 TEMP=1.0
<a href="./_p_r_i_n_t.html" style="color:green">PRINT</a> ARG=dist,dist2,eds.dist_coupling,eds.dist2_coupling,eds.bias,eds.force2 FILE=colvars.dat STRIDE=100
</pre><p>Rather than trying to find the coupling constants adaptively, one can ramp up to a constant value. </p><pre class="fragment">
<span style="color:blue">#ramp couplings from 0,0 to -1,1 over 50000 steps</span>
eds: <a href="./_e_d_s.html" style="color:green">EDS</a> ARG=dist,dist2 CENTER=2.0,1.0 FIXED=-1,1 RAMP PERIOD=50000 TEMP=1.0

<span style="color:blue">#same as above, except starting at -0.5,0.5 rather than default of 0,0</span>
eds: <a href="./_e_d_s.html" style="color:green">EDS</a> ARG=dist,dist2 CENTER=2.0,1.0 FIXED=-1,1 INIT=-0.5,0.5 RAMP PERIOD=50000 TEMP=1.0
</pre><p>A restart file can be added to dump information needed to restart/continue simulation using these parameters every PERIOD. </p><pre class="fragment">
<span style="color:blue">#add the option to write to a restart file</span>
eds: <a href="./_e_d_s.html" style="color:green">EDS</a> ARG=dist,dist2 CENTER=2.0,1.0 PERIOD=50000 TEMP=1.0 OUT_RESTART=restart.dat
</pre><p>Read in a previous restart file. Adding RESTART flag makes output append </p><pre class="fragment">
eds: <a href="./_e_d_s.html" style="color:green">EDS</a> ARG=dist,dist2 CENTER=2.0,1.0 PERIOD=50000 TEMP=1.0 IN_RESTART=restart.dat RESTART
</pre><p>Read in a previous restart file and freeze the bias at the final level from the previous simulation </p><pre class="fragment">
eds: <a href="./_e_d_s.html" style="color:green">EDS</a> ARG=dist,dist2 CENTER=2.0,1.0 TEMP=1.0 IN_RESTART=restart.dat FREEZE
</pre><p>Read in a previous restart file and freeze the bias at the mean from the previous simulation </p><pre class="fragment">
eds: <a href="./_e_d_s.html" style="color:green">EDS</a> ARG=dist,dist2 CENTER=2.0,1.0 TEMP=1.0 IN_RESTART=restart.dat FREEZE MEAN
</pre><p>Read in a previous restart file and continue the bias, but use the mean from the previous run as the starting point </p><pre class="fragment">
eds: <a href="./_e_d_s.html" style="color:green">EDS</a> ARG=dist,dist2 CENTER=2.0,1.0 PERIOD=50000 TEMP=1.0 IN_RESTART=restart.dat MEAN
</pre> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
<!--    <li class="navelem"><a class="el" href="_add_mod.html">Additional Modules</a></li><li class="navelem"><a class="el" href="_e_d_s_m_o_d.html">Experiment Directed Simulation</a></li><li class="navelem"><a class="el" href="_e_d_s_m_o_d_bias.html">Biases Documentation</a></li>  -->
    <li class="footer">   <!--- Generated by -->
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
